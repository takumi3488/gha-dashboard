query GetMyWorkflowRunsFixed20RunsPerPage(
  $numReposToFetch: Int = 50 # 1ページあたりに取得するリポジトリ数
  $repoPageCursor: String # リポジトリリストのページネーションカーソル (初回はnull)
) {
  viewer {
    repositories(
      first: $numReposToFetch
      after: $repoPageCursor
      ownerAffiliations: OWNER # 自身が所有するリポジトリ
      orderBy: { field: NAME, direction: ASC } # リポジトリ名を昇順でソート
    ) {
      totalCount # 自身が所有する総リポジトリ数
      pageInfo {
        # リポジトリのページネーション情報
        endCursor
        hasNextPage
        startCursor
      }
      edges {
        # リポジトリのリスト (カーソル付き)
        cursor # このリポジトリのカーソル
        node {
          # リポジトリの情報
          nameWithOwner # owner/repository 形式の名前
          url # リポジトリのURL
          workflowRuns(
            first: 5 # ★ 各リポジトリのランを先頭20件に固定
            orderBy: { field: CREATED_AT, direction: DESC } # 作成日時の降順 (新しい順)
          ) {
            totalCount # ★ このリポジトリのランの総数 (20件で打ち切られたか確認用)
            nodes {
              # ★ workflowRuns はページネーション不要なので直接 nodes を取得
              name # ワークフローランの名前
              databaseId # ワークフローランのグローバルID
              workflow {
                # 親ワークフローの情報
                name # ワークフロー定義ファイルの名前
              }
              displayTitle # ワークフローランの表示タイトル
              runNumber # リポジトリ内でのランの連番
              event # ランをトリガーしたイベント
              status # ランの現在の状態
              conclusion # ランの最終結果
              createdAt # 作成日時 (ISO 8601形式)
              updatedAt # 最終更新日時 (ISO 8601形式)
              url # ワークフローランのURL
            }
          }
        }
      }
    }
  }
}
